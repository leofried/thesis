\sub {

    %signatures should have a subscript

    One common application of multibrackets is when an $n$-team tournament is needed to select the top $m$ teams to move on to the next stage of the competitions (perhaps this is the regional tournament, and the top $m$ teams from this region qualify for nationals.) For a tournament such as this, a natural option would be an $m$-team multibracket of order $n$. This is exactly what the USA Ultimate Manual of Championship Series Tournament Formats \cite{ultimate} calls for in many circumstances. One such example is the following eight-team order four simple multibracket:

    \fig{0.8}{ultimate_format}{$\bracksig{8;0;0;0} \to \bracksig{4;2;0;1;0} \to \bracksig{1} \to \bracksig{1}$}

    One observation about this format is that a few of the games played seem unnecessary. In particular, games $\bracklabel{F1}$ and $\bracklabel{G1}$ are downright silly: after round $\bracklabel{E},$ the four teams that advance to nationals are already set: the winner and loser of $\bracklabel{C1}$, and the winners of the two round $\bracklabel{E}$ games. Perhaps more subtly, game $\bracklabel{C1}$ is also unnecessary: both the winner and loser will advance. A more efficient alternative might look like so.

    \fig{0.8}{ultimate_efficient}{A More Efficient Alternative}

    The format in Figure \ref{fig:ultimate_efficient} isn't an example of anything we've defined thus far. It's almost a simple multibracket but not quite: for one thing, some teams start in the ``second bracket.'' To formally describe what is going on in Figure \ref{fig:ultimate_efficient}, we introduce the notion of semibracket.

    \begin{definition}{Semibracket}{}
        A \textit{semibracket} is a tournament format in which:
        \begin{itemize}
            \item Teams don't play any games after their first loss,
            \item The matchups between teams that have not yet lost are determined based on the ordering of the teams in $\T$ in advance of the outcomes of any games.
        \end{itemize}
        All teams that finish a semibracket with no losses are declared co-champions.
    \end{definition}

    \begin{definition}{Order of a Semibracket}{}
        The \textit{order} of a semibracket is the number of co-champions it produces.
    \end{definition}

    This is the same definition of a bracket but without the requirement that games be played until only one team is without losses. Note that semibrackets of order one are just traditional brackets. Figure \ref{fig:ultimate_efficient} can be viewed then as being composed of two semibrackets of order two rather than of four brackets.
    
    Many of the important properties of traditional brackets are true of semibrackets as well, up to and including the fundamental theorem. We state the key ones here without proof for brevity, though the proofs are analogous to those presented for traditional brackets.

    \begin{definition}{Semibracket Signature}{}
        The \textit{signature} $\bracksig{a_0; ...; a_r}$ of an $r$-team semibracket $\A$ is a list of natural numbers, such that $a_i$ is the number of teams with $i$ byes.
    \end{definition}

    \begin{theorem}{}{}
        Let $\A = \bracksig{a_0; ...; a_r}$ be a list of natural numbers. Then $\A$ is a semibracket signature of order $z$ if and only if $$\sum_{i=0}^r a_i \cdot \left(\frac{1}{2}\right)^{r - i} = z.$$
    \end{theorem}

    Note that the semibracket signature summation sums to the order of the semibracket. As traditional brackets are just semibrackets of order one, this is consistent with Theorem \ref{th:signature_sum}.

    \begin{definition}{Proper Semibracket}{}
        A \textit{proper semibracket} is a semibracket that has been properly seeded.
    \end{definition}

    \begin{theorem}{}{}
        There is exactly one proper semibracket with each semibracket signature.
    \end{theorem}

    One strange feature of semibrackets is that a semibracket can declare arbitrarily many teams champion without any of them having to win a game.

    \begin{definition}{Trivial}{}
        We say semibrackets with signature $\bracksig{n}$ for some $n$ are \textit{trivial.}
    \end{definition}

    While the only trivial traditional bracket is the one-team bracket $\bracksig{1}$, there is a trivial semibracket of each order. There are even semibrackets in which some but not all teams are declared champion without playing any games.

    \begin{definition}{Semitrivial}{}
        We say a semibracket $\A = \bracksig{a_0; ...; a_r}$ is \textit{semitrivial} if $r \geq 1$ and $a_r \neq 0.$
    \end{definition}

    For example, the semibracket $\bracksig{4;3}$ is semitrivial, but not trivial. There are no semitrivial traditional brackets.

    We can combine semibrackets into larger formats in the same way that we combined traditional brackets into simple multibrackets.

    \begin{definition}{Multibracket}{} 
        A \textit{multibracket} is a sequence of semibrackets in which the losers of certain games in the upper semibrackets fall into the lower semibrackets rather than being eliminated outright, and teams place based on which semibracket they won.
    \end{definition}

    \begin{definition}{Order of a Multibracket}{}
        The \textit{order} of a multibracket is the sum of the orders of the semibrackets it consists of.
    \end{definition}

    \begin{definition}{Weakly Proper Multibracket}{}
        A multibracket is \textit{weakly proper} if each $m$-team bracket $\A_i$ includes either the $m$ teams that lost most recently but have not yet been placed, or all of the teams that have lost and not yet been placed, (where rounds later in the alphabet are more recent,) and teams that lose in the same round are placed in the same bracket.
    \end{definition}

    Thus, saying that a multibracket is \textit{simple} means that all of its semibrackets are of order one, and that all teams start in the primary bracket: in generalized multibrackets, some teams (in particular lower-seeded teams) might start in lower brackets.
    
    An example of a non-simple multibracket that took advantage of both properties is the 2021 NBA Western Conference Play-in Tournament, which was a ten-team multibracket with order eight and following signature:
    $\bracksig{6} \to \bracksig{2;0} \to \bracksig{2;1;0}.$ The play-in tournament was used to whittle the top ten teams in the conference down to eight teams who would qualify for the playoffs.

    \fig{0.7}{nba_playin}{2021 NBA Western Conference Play-in}

    The top six seeds get slotted into the primary semibracket where they don't have to play any games in order to advance to playoffs. Seeds 7 and 8 each must win one of their next two games to qualify, while seeds 9 and 10 must win both of their next two.

    While it is reasonable for a multibracket to have a trivial semibracket as one of its brackets, (for example, if we want to grant the loser of the championship game of the primary bracket second-place,) semitrivial brackets are much harder to justify. Any multibracket $\A = \A_1 \to ... \to \A_k$ in which $\A_i = \bracksig{a_0; ...; a_r}$ is semitrivial can be reconstructed as $$\A' = \A_1 \to ... \to \A_{i-1} \to \bracksig{a_r} \to \bracksig{a_0; ...; a_{r-1}; 0} \to \A_{i+1} \to ... \to \A_k.$$ $\A'$ plays all of the same games as $\A$, but with more granularity in the final rankings.

    Because weak properness and a lack of semitrivial semibrackets are such important and universal criteria, we combine them into the notion of a $\textit{standard}$ multibracket.

    \begin{definition}{Standard}{}
        A multibracket is \textit{standard} if it is weakly proper and contains no semitrivial semibrackets.
    \end{definition}

    It is now clear that both the 2021 NBA Western Conference Play-in format as well as the format in Figure \ref{fig:ultimate_efficient} are standard multibrackets. Both of these formats share an additional property that the original format in Figure \ref{fig:ultimate_format} does not: they are \textit{efficient}.

    \begin{definition}{Efficient}{}
        A multibracket is \textit{efficient} if there are no games played within it such that both the winner and loser of that game are guaranteed to win a semibracket.
    \end{definition}

    Identifying whether a standard multibracket is efficient can be done by looking at its signature.

    \theo{}{
        A standard multibracket $\A = \A_1 \to ... \to \A_k$
        is efficient if and only if there is some $j$ such that all brackets $\A_i$ for $i < j$ are trivial and all brackets $\A_i$ for $i \geq j$ are not.
    }{
        Let $\A$ be a standard multibracket.\\

        Assume no such $j$ exists, and let $i$ be the first trivial bracket that follows a nontrivial one. Thus there is at least one game $\bracklabel{G}$ such that the loser drops into $\A_i.$ Because $\A_i$ is trivial, the loser of $\bracklabel{G}$ wins $\A_i$. Applying Lemma \ref{th:weak_lemma}, we see that the winner of $\bracklabel{G}$ will either win a semibracket as well, or lose in $\A_i$. But $\A_i$ is trivial, so they must win a semibracket. Thus, $\A$ is not efficient.\\

        Now assume that such a $j$ exists. We will show by inducting on the semibrackets in $\A$ in reverse that none of the semibrackets contain a game that violates the efficiency condition. Firstly, $\A_k$ upholds the condition because any team that loses a game in $\A_k$ doesn't fall into another semibracket, much less have a chance to win one.\\
        
        Now we must show that if all of the semibrackets from $\A_{i+1}$ to $\A_k$ uphold the condition, then $\A_i$ does as well. If $i<j$, then $\A_i$ is trivial so there are no games to violate the condition with. Otherwise, let $\bracklabel{G}$ be a game in $\A_i$. If the loser of $\bracklabel{G}$ does not fall into another semibracket, then we are done. If they do, then because that bracket is not trivial, they will play another game. However, by induction, the loser of this game is not guaranteed to win a semibracket. Thus neither is the loser of $\bracklabel{G}$.\\

        So by induction, if such a $j$ exists, then $\A$ is efficient. Thus we have proved the theorem.
    }{}

    Efficient multibrackets are great tournament designs for tournaments whose primary goal is to select the top $m$ teams to move on to the next stage of the competitions, as discussed in the beginning of this section. They do so excitingly, with each spot in the top $m$ being awarded as the winner of a particular game; efficiently, with no games being played between teams who have each already clinched spots; and fairly (as long as the format is as proper and respectful as desired.)
}