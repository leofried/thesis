\sub {

    In the pervious chapter, we discussed brackets and similar formats (reseeded and cohort randomized brackets) paying attention only to which team is declared champion. Edwards's Theorem and its analogies, for example, makes claims only about which teams are most likely to win the tournament: all participants that don't are grouped together as losers.

    In fact, the definition of a bracket presented in Section \ref{sec:Bracket Signatures} (and included below) doesn't offer any such distinctions either: the team that finishes undefeated is declare champion while the others are not. Real tournaments, however, do not operate in this way: for example, explicitly or not, the team that lost the championship is often considered to have earned the second-place finish.

    \begin{definition}{Bracket}{}
        A \i{bracket} is a tournament format in which:
        \begin{itemize}
            \item Teams don't play any games after their first loss,
            \item Games are played until only one team has no losses, and that team is crowned champion, and
            \item The matchups between game winners are determined in advance of the outcomes of any games.
        \end{itemize}
    \end{definition}    

    Third-place is often harder to determine. If a team is given a bye all the way to the finals, and thus there is only one semifinal, then the loser of that semifinal can be unambiguously granted third. The 2023 Korean Baseball Organization League Playoffs have this property: they use a bracket of signature $\bracksig{2;1;1;1;0},$ and so could easily assign third-place to the NC Dinos, who lost in the sole semifinal. (The LG Twins won the format, and finals losers KT Wiz came in second).
    
    \fig{1}{kbo}{2023 KBO League Playoffs}

    But in most brackets (those brackets whose signature's penultimate digit is a zero), assigning third-place is trickier: there are two teams who lost in the semifinal and have an equal claim to the place. There are a number of strategies that a league might use in the face of this ambiguity.

    The first option is to just not assign a third-place at all. In the wise words of Will Ferrell from Talladega Nights, ``If you ain't first, you're last.'' Who cares who came in third: you didn't win, you didn't even come in second, so you lost. This approach is taken by all four major American professional sports leagues (the NFL, NBA, NHL, and MLB).

    The second option is to declare the two semifinal losers co-third-place finishers. In many ways, this is the same as the first option, but with a single sentence added to the end of a press-release indicating that the teams in question each finished third. (This option also has the unsatisfying property that four teams will be able to claim a top-three finish. This can be easily fixed, however, by just granting both teams fourth-place instead.)

    The third option is to use some (relatively) arbitrary tiebreaker to select the third-place team. A few potential such tiebreakers are: whichever team was seeded higher, whichever team lost to the tournament champion (as opposed to the tournament runner-up), or if the teams played each other during the ``regular season'' portion of a tournament, whichever team won that game.

    None of these are particularly satisfying. While they may do alright when giving out third-place isn't super important, if we really want to assign third in a fair and equitable way, say because there is a bronze medal or spot in a future tournament up grabs, these options will not do.

    Instead, the best thing to do is play a game: The 2015 Asian Football Confederation Asian Cup did exactly that.

    \fig{0.7}{afl}{The 2015 AFC Asian Cup}

    In the 2015 AFC Asian Cup, after the main bracket is complete, with the winner of the final game (Australia) being crowned champion and the loser (South Korea) coming in second, the two semifinal losers (Iraq and the UAE) are matched up in the third-place game.

    A quick note about Figure \ref{fig:afl}: each game in the figure is labeled. In the primary bracket, first-round games are $\bracklabel{A1}$ through $\bracklabel{A4}$, while the semifinals are $\bracklabel{B1}$ and $\bracklabel{B2}$, and the finals is game $\bracklabel{C1}$. The third-place game is labeled $\bracklabel{D1}$: even though it could be played concurrently to the championship game, it is part of a different bracket and so we label it as a different round. %do we still do this?

    We indicate that the third-place game is to be played in between the losers of games $\bracklabel{B1}$ and $\bracklabel{B2}$ by labeling the starting lines in the third-place game with those games. This is not ambiguous because the winners of those games always continue on in the original bracket, so such labels only refer to the losers.

    The third-place game, as used by the 2015 AFC Asian Cup, is a relatively common and well-liked system for selecting the top-three teams after a bracket. But it is far from the only way that the AFC could have doled out gold, silver, and bronze
    
    In fact, it's not clear the loser of $\bracklabel{C1}$, who comes in second place, is really more deserving than the winner of $\bracklabel{D1}$, who comes in third. The UAE might argue: South Korea and we both finished with two wins and one loss -- a first-round win, a win against Iraq, and a loss against Australia. The only reason that South Korea came in second and we came in third was because South Korea lucked out by having Australia on the other half of the bracket as them. That's not fair!

    If the AFC took this complaint seriously, they could modify their format to add a game $\bracklabel{E1}$ for second-place to be played between the loser of $\bracklabel{C1}$ and the winner of $\bracklabel{D1},$ with the loser coming in third.

    \fig{0.7}{afl_second}{The 2015 AFC Asian Cup (Version 2)}

    If the AFC used the format in Figure \ref{fig:afl_second} in 2015, then South Korea and the UAE would have played each other for second place after all of the other games were completed. In some sense, this is a more equitable format than the one used in reality: we have the same data about the UAE and South Korea and so we ought to let them play for second-place instead of having decided almost randomly.

    However, swapping formats doesn't come without costs. For one thing, South Korea and the UAE would've had to play a fourth game: if the AFC had only three days to put on the tournament and teams can play at most one game a day, then the format in Figure \ref{fig:afl_second} isn't feasible.

    Another concern: what if Iraq had beaten the UAE when they played in game $\bracklabel{D1}$? Then the two teams with a claim to second-place would have been South Korea and Iraq, except South Korea already beat Iraq! One option is to say ``tough luck, later games being more important than earlier ones is a staple in sports''. But another is to designate game $\bracklabel{E1}$ as \i{contingent}.

    \begin{definition}{Contingent Game}{}
        We say a game in a tournament format is \i{contingent} if under certain circumstances (most commonly if the teams have already played earlier in the tournament,) the game is skipped and the result of a previous game is used.
    \end{definition}

    Ultimately, whether game $\bracklabel{E1}$ should be in included or not depends on the purpose of the tournament. If there is a huge difference between the prizes for coming in second and third, for instance, if the top two finishing teams in the Asian Cup qualified for the World Cup, then $\bracklabel{E1}$ is quite important. If, on the other hand, this is a self-contained format played purely for bragging rights, $\bracklabel{E1}$ could probably be left out. In reality, the 2015 AFC Asian Cup qualified only its winner to another tournament (the 2017 Confederations Cup), and gave medals to its top three, so game $\bracklabel{E1}$, which distinguishes between second- and third-place, was probably unnecessary.

    What if instead, however, instead of just the champion, the top four teams from the Asian Cup advanced to the Confederations Cup. One could imagine an easy extension of the format used presently, in which the loser of game $\bracklabel{D1}$ is awarded fourth-place, to determine the four teams that qualify. However, this format would be quite poor: whether or not a team qualifies for the Confederations Cup would be solely determined by the result of their first game and so games $\bracklabel{B1},$ $\bracklabel{B2},$ $\bracklabel{C1},$ and $\bracklabel{D1}$ might as well not even be played. A better format for selecting the top-four would allow first-round losers to win their way back onto the podium, as was employed by the 2023 Southern Conference Wrestling Championships.

    \fig{0.42}{socon}{2023 Southern Conference Wrestling Championships} %174 pounds

    The format in Figure \ref{fig:socon} is a dramatic improvement for selecting a top-four over that in Figure \ref{fig:afl}. In the 2023 Southern Conference Wrestling Championships, teams finish in the top-four if and only if they win two games before they lose two, which is a nice property to have. The one downside is it takes a fourth round: if there is not enough time for a fourth round, or if there is safety risk to teams playing four matches in a row, the format isn't feasible.

    The three formats presented thus far are examples of \i{multibrackets}.

    \begin{definition}{Multibracket}{}
        A \i{multibracket} is a collection of one or more brackets coupled with a specification of which winners and losers of which games receive which places. Starting lines in multibrackets can be marked a seed, or by a game, indicating that loser of the specified game should be placed there.
    \end{definition}

    Multibrackets a natural generalization of traditional brackets: recall that brackets are defined as tournament formats in which
    \begin{itemize}
        \item Teams don't play any games after their first loss.
        \item Games are played until one team has no losses, and that team is crowned champion.
        \item The matchups between game winners are determined in advance of the outcomes of any games.
    \end{itemize}

    A multibracket ditches the first two requirements: teams are allowed to continue playing even after they lose, and multibrackets can award more than just first place. The third requirement however, that matchups between game winners (and in the case of multibrackets, game losers) are determined in advance of the results of any games, is maintained.

    This is actually the only requirement for a format to be a multibracket, allowing for the following more formal definition of a multibracket.

    \begin{definition}{Multibracket}{}
        A \i{multibracket} is a tournament format in which, after $t_i$ plays $t_j$, the rest of the tournament is identical no matter which team won, except for $t_i$ and $t_j$ are swapped.
    \end{definition}

    (Note that this means multibrackets with contingent games are technically not multibrackets at all. However, they are close enough to being multibrackets and are important enough tools for tournament design that we include them in our discussion, in the same way that  in the last chapter we discussed reseeded brackets even though they are technically not even brackets.)

    This definition of a multibracket may look familiar: Knuth, in a discussion of sorting algorithms, gave an analogous definition for a class of sorting algorithms he named \i{sorting networks} \cite{knuth}.

    \begin{definition}{Sorting Network}{}
        A \i{sorting network} is a sorting algorithm with the property that whenever we compare $K_i$ versus $K_j$, the subsequent comparisons for the case  $K_i < K_j$ are exactly the same as for the case $K_i > K_j,$ but with $i$ and $j$ interchanged.
    \end{definition}

    Knuth went on to derive various results about sorting networks which may also be of interest to us in our study of multibrackets. For further discussion of the relationship between sorting algorithms and tournament designs, see Section \ref{sec:Definitions}. %fix reference
        
    In any case, as we will see in the coming sections, many tournament formats can be represented as a multibracket, including club sport regional tournaments, double-eliminations, and swiss systems.
}




    %different chapter title?



% Third-Place Games
% Linear/Non-linear (Page -> Double Elimination -> NBA)
% Efficient Multibrackets (how many linear, efficient for n, m)
% Swiss??? + generalized swiss
% Considerations (proper, respectful, etc)




   
% The comparison between sorting networks and multibrackets (or more generally, between sorting algorithms and tournament formats) is a fascinating one. The problem of tournament design and the space of tournament formats differs from that of sorting algorithms in two important ways.

% First, in tournament design we only have access to a noisy comparison operator: while a sorting algorithm is permitted to depend on the same comparison giving always giving the same results, we get no such luxury. In fact, tournament designers are not even guaranteed that their teams are transitive (although it certainly a useful assumption.)

% Second, while sorting algorithms are required to output a full list and that this full list correctly reflect the ordering of the elements, tournament designed face no such restriction: it is okay to design a tournament that only crowns a champion, or top-three, or whatever, and the best team need not always win. (This may be a desirable property, but it also may not be!)
